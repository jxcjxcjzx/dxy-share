{"version":3,"sources":["dxy-share.js"],"names":["dxy_share","loadjscssfile","filename","filetype","fileref","document","createElement","setAttribute","getElementsByTagName","appendChild","$","id","getElementById","synIMG","url","fun","wrapDom","img","Image","src","style","display","onload","onerror","getByClass","className","context","CLASS_REG","RegExp","domArr","docELem","i","len","length","el","nodeType","test","push","console","log","sName_obj","sina","tt","douban","renren","qzone","idxy","kaixin","weixin","favorite","sApi","charset","share_html","share_lst_html","this","show","op","shareFeed","body","jQuery","ajax","type","async","jsonpCallback","contentType","dataType","data","success","status","alert","message","other","loginIdxy","window","open","toggle","tid","share_btn","share_box","onmouseenter","clearTimeout","onmouseout","setTimeout","onmouseover","toggle2","onclick","arr","shareUrl","_fnAddTo","fnAddTo","DXY_share_css","innerHTML","parseInt","top","follow_share","j_dxyshare_a_arr","_loop","addBtnEvent","e","_url","location","href","encodeURI","name","all","external","addFavorite","title","sidebar","addPanel","weixin_node","parentNode","weixin_api","temp","close","triangle","left","zIndex","w_a","_txt","share_txt","addTo","api","encodeURIComponent","screen","width","height","share","module","exports"],"mappings":"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","file":"dxy-share.min.js","sourcesContent":["(function () {\n\tfunction dxy_share() {\n\n\t\tfunction loadjscssfile(filename, filetype) {\n\t\t\tif (filetype == \"js\") {\n\t\t\t\tvar fileref = document.createElement('script');\n\t\t\t\tfileref.setAttribute(\"type\", \"text/javascript\");\n\t\t\t\tfileref.setAttribute(\"src\", filename);\n\t\t\t} else if (filetype == \"css\") {\n\t\t\t\tvar fileref = document.createElement(\"link\");\n\t\t\t\tfileref.setAttribute(\"rel\", \"stylesheet\");\n\t\t\t\tfileref.setAttribute(\"type\", \"text/css\");\n\t\t\t\tfileref.setAttribute(\"href\", filename);\n\t\t\t}\n\t\t\tif (typeof fileref != \"undefined\") document.getElementsByTagName(\"head\")[0].appendChild(fileref);\n\t\t}\n\n\t\tfunction $(id) {\n\t\t\tif (id) {\n\t\t\t\treturn document.getElementById(id);\n\t\t\t}\n\t\t}\n\n\t\tfunction synIMG(url, fun, wrapDom) {\n\t\t\tvar img = new Image();\n\t\t\timg.src = url;\n\t\t\timg.style.display = 'none';\n\t\t\timg.onload = function () {\n\t\t\t\t//console.log('onload:',this);\n\t\t\t}\n\t\t\timg.onerror = function () {\n\t\t\t\t//console.log('onerror:',this);\n\t\t\t\tfun(img);\n\t\t\t}\n\n\t\t\tif (!wrapDom) {\n\t\t\t\twrapDom = document.getElementsByTagName('body')[0];\n\t\t\t}\n\t\t\twrapDom.appendChild(img);\n\t\t}\n\n\t\tfunction getByClass(className, context) {\n\t\t\tvar CLASS_REG = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)');\n\n\t\t\tvar domArr = [];\n\t\t\tvar docELem = (context || document).getElementsByTagName('*');\n\n\t\t\tfor (var i = 0, len = docELem.length; i < len; i++) {\n\t\t\t\tvar el = docELem[i];\n\t\t\t\tif (el.nodeType == 1 && CLASS_REG.test(el.className)) {\n\t\t\t\t\tdomArr.push(el);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconsole.log(domArr);\n\t\t\treturn domArr;\n\t\t}\n\n\n\t\tvar sName_obj = {\n\t\t\tsina: '新浪微博',\n\t\t\ttt: '腾讯微博',\n\t\t\tdouban: '豆瓣',\n\t\t\trenren: '人人网',\n\t\t\tqzone: 'QQ空间',\n\t\t\tidxy: '丁香客',\n\t\t\tkaixin: '开心网',\n\t\t\tweixin: '微信',\n\t\t\tfavorite: '收藏夹'\n\t\t};\n\t\tvar sApi = {\n\t\t\tsina: 'http://v.t.sina.com.cn/share/share.php?appkey=1611508056&content=' + (document.charset || \"gbk\") + '&',\n\t\t\ttt: 'http://v.t.qq.com/share/share.php?',\n\t\t\tdouban: 'http://www.douban.com/share/service/?',\n\t\t\t// douban: 'http://www.douban.com/recommend/?',\n\t\t\trenren: 'http://share.renren.com/share/buttonshare?',\n\t\t\tqzone: 'http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?',\n\t\t\tidxy: '',\n\t\t\tkaixin: 'http://www.kaixin001.com/repaste/share.php?',\n\t\t\tweixin: 'http://api.dxy.cn/qr-code/?'\n\t\t};\n\n\t\tvar share_html = '',\n\t\t\tshare_lst_html = '';\n\n\n\t\tthis.show = function (op) {\n\t\t\tvar id = op['id'],\n\t\t\t\tarr = op['lst'],\n\t\t\t\tstyle = op['style'],\n\t\t\t\tshareUrl = op['url'],\n\t\t\t\t_fnAddTo = op.fnAddTo || {};\n\t\t\t//$(id).style.visibility=\"hidden\";\n\n\t\t\tif (!window.DXY_share_css) {\n\t\t\t\tloadjscssfile('http://assets.dxycdn.com/docs/plugin/dxy_share/dxy_share.css?t=20150225', 'css');\n\t\t\t\twindow.DXY_share_css = 1;\n\t\t\t}\n\n\t\t\t//console.log(id,arr);\n\n\t\t\tswitch (style) {\n\t\t\t\tcase 1:\n\t\t\t\t\tif (arr.length > 0) {\n\t\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\t\tshare_lst_html += \"<div class='plg_share_el_nav1_it'><i class='plg_share_el_nav1_ico plg_ico_\" + arr[i] + \"'>&nbsp;</i><a href='javascript:void(0);' title='\" + sName_obj[arr[i]] + \"' name='\" + arr[i] + \"'>\" + sName_obj[arr[i]] + \"</a></div>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tshare_html = '<div class=\"plg_share_wrap plg_share_style' + style + '\"><a href=\"#\" class=\"share_btn\" id=\"j_dxy_sharebtn_' + id + '\">分享到</a><dl class=\"plg_share_el_box2 xbox1\" id=\"j_dxy_sharebox_' + id + '\"><dt class=\"plg_share_el_box2_hd\"><b class=\"pl10 mr10\">分享到</b></dt><dd class=\"plg_share_el_box2_ct\"><div class=\"plg_share_el_nav1\" id=\"j_dxyshare_lst_' + id + '\">' + share_lst_html + '</div></dd></dl></div>';\n\t\t\t\t\t//console.log(share_html);\n\n\t\t\t\t\t$(id).innerHTML = share_html;\n\t\t\t\t\ttoggle();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\t\t\t\t\tif (arr.length > 0) {\n\t\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\t\tshare_lst_html += \"<div class='plg_share_el_nav1_it'><i class='plg_share_el_nav1_ico plg_ico_\" + arr[i] + \"'>&nbsp;</i><a href='javascript:void(0);' title='\" + sName_obj[arr[i]] + \"' name='\" + arr[i] + \"'>\" + sName_obj[arr[i]] + \"</a></div>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tshare_html = '<div class=\"plg_share_wrap plg_share_style' + style + '\"><a href=\"#\" class=\"share_btn\" id=\"j_dxy_sharebtn_' + id + '\">分享到</a><dl class=\"plg_share_el_box2 xbox1\" id=\"j_dxy_sharebox_' + id + '\"><dt class=\"plg_share_el_box2_hd\"><b class=\"pl10 mr10\">分享到</b></dt><dd class=\"plg_share_el_box2_ct\"><div class=\"plg_share_el_nav1\" id=\"j_dxyshare_lst_' + id + '\">' + share_lst_html + '</div></dd></dl></div>';\n\t\t\t\t\t//console.log(share_html);\n\n\t\t\t\t\t$(id).innerHTML = share_html;\n\t\t\t\t\ttoggle();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 3:\n\t\t\t\t\tif (arr.length > 0) {\n\t\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\t\tshare_lst_html += \"<a href='javascript:void(0);' name='\" + arr[i] + \"' class='plg_share_el_nav1_ico plg_ico_\" + arr[i] + \"' title='\" + sName_obj[arr[i]] + \"'>&nbsp;</a>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tshare_html = '<div class=\"plg_share_wrap plg_share_style' + style + '\"><span class=\"share_btn\">分享到：</span><div class=\"plg_share_el_box2_ct\" id=\"j_dxyshare_lst_' + id + '\">' + share_lst_html + '</div></div>';\n\t\t\t\t\t//console.log(share_html);\n\n\t\t\t\t\t$(id).innerHTML = share_html;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 4:\n\t\t\t\t\tif (arr.length > 0) {\n\t\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\t\tshare_lst_html += \"<div class='plg_share_el_nav1_it'><a href='javascript:void(0);' name='\" + arr[i] + \"' class='plg_share_el_nav1_ico plg_ico_\" + arr[i] + \"' title='\" + sName_obj[arr[i]] + \"'>\" + sName_obj[arr[i]] + \"</a></div>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tshare_html = '<div class=\"plg_share_wrap plg_share_style' + style + '\"><dl class=\"plg_share_el_box2 xbox1\" id=\"j_dxy_sharebox_' + id + '\"><dd class=\"plg_share_el_box2_ct\"><div class=\"plg_share_el_nav1\" id=\"j_dxyshare_lst_' + id + '\"><div class=\"plg_share_el_nav1_it dxy_sharebox_title\">分享</div>' + share_lst_html + '</div></dd></dl></div>';\n\t\t\t\t\t//console.log(share_html);\n\t\t\t\t\t$(id).innerHTML = share_html;\n\n\t\t\t\t\tbreak;\n\n\n\t\t\t\tcase 5:\n\t\t\t\t\tif (arr.length > 0) {\n\t\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\t\tshare_lst_html += \"<div class='plg_share_el_nav1_it'><a href='javascript:void(0);' name='\" + arr[i] + \"' title='\" + sName_obj[arr[i]] + \"' class='plg_share_el_nav1_ico plg_ico_\" + arr[i] + \"'>\" + sName_obj[arr[i]] + \"</a></div>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tshare_html = '<dl id=\"j_dxy_sharebox_' + id + '\" class=\"plg_share_el_box2 xbox1\" style=\"margin-top:' + parseInt(op.top) + 'px;\"><dd class=\"plg_share_el_box2_ct\"><div id=\"j_dxyshare_lst_' + id + '\" class=\"plg_share_el_nav1\">' + share_lst_html + '</div></dd></dl>';\n\n\t\t\t\t\tvar follow_share = document.createElement('div');\n\t\t\t\t\tfollow_share.className = 'plg_share_wrap plg_share_style' + style;\n\t\t\t\t\tfollow_share.innerHTML = share_html;\n\t\t\t\t\tdocument.body.appendChild(follow_share);\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 6:\n\t\t\t\t\tif (arr.length > 0) {\n\t\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\t\tshare_lst_html += \"<div class='plg_share_el_nav1_it'><i class='plg_share_el_nav1_ico plg_ico_\" + arr[i] + \"'>&nbsp;</i><a href='javascript:void(0);' title='\" + sName_obj[arr[i]] + \"' name='\" + arr[i] + \"'>\" + sName_obj[arr[i]] + \"</a></div>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tshare_html = '<div class=\"plg_share_wrap plg_share_style' + style + '\"><dl class=\"plg_share_el_box2 xbox1\"><dt class=\"plg_share_el_box2_hd\"><b class=\"pl10 mr10\">分享到</b></dt><dd class=\"plg_share_el_box2_ct\"><div class=\"plg_share_el_nav1\" id=\"j_dxyshare_lst_' + id + '\">' + share_lst_html + '</div></dd></dl></div>';\n\t\t\t\t\t//console.log(share_html);\n\n\t\t\t\t\t$(id).innerHTML = share_html;\n\t\t\t\t\ttoggle();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'm1':\n\t\t\t\t\tif (arr.length > 0) {\n\t\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\t\tshare_lst_html += \"<div class='plg_share_el_nav1_it'><a href='javascript:void(0);' name='\" + arr[i] + \"' class='plg_share_el_nav1_ico plg_ico_\" + arr[i] + \"' title='\" + sName_obj[arr[i]] + \"'>\" + sName_obj[arr[i]] + \"</a></div>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tshare_html = '<div class=\"plg_share_wrap plg_share_style_' + style + '\"><dl class=\"plg_share_el_box2 xbox1\"><dt><div class=\"plg_share_el_nav1_it dxy_sharebox_title\" id=\"j_dxy_sharebtn_' + id + '\">分享</div></dt><dd class=\"plg_share_el_box2_ct\" id=\"j_dxy_sharebox_' + id + '\"><div class=\"plg_share_el_nav1\" id=\"j_dxyshare_lst_' + id + '\">' + share_lst_html + '</div></dd></dl></div>';\n\t\t\t\t\t$(id).innerHTML = share_html;\n\t\t\t\t\ttoggle2();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\n\t\t\t//tagName='a' event\n\t\t\tvar j_dxyshare_a_arr = document.getElementById('j_dxyshare_lst_' + id).getElementsByTagName('a');\n\n\t\t\tfor (var i = 0; i < j_dxyshare_a_arr.length; i++) {\n\n\t\t\t\tfunction addBtnEvent(e) {\n\t\t\t\t\tvar _url = shareUrl || window.location.href;\n\t\t\t\t\t_url = encodeURI(_url);\n\n\t\t\t\t\tif (this.name == 'favorite') {\n\n\t\t\t\t\t\tif (document.all) {\n\t\t\t\t\t\t\twindow.external.addFavorite(_url, document.title);\n\t\t\t\t\t\t} else if (window.sidebar && window.sidebar.addPanel) {\n\t\t\t\t\t\t\twindow.sidebar.addPanel(document.title, _url, '');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\talert('对不起，暂时不支持您的浏览器');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if (this.name == 'weixin') {\n\t\t\t\t\t\tvar weixin_node = this.parentNode,\n\t\t\t\t\t\t\tweixin_api = sApi[this.name] + 'url=' + _url + '&size=5&margin=1&format=png';\n\n\t\t\t\t\t\tvar weixin = getByClass('weixin', weixin_node)[0];\n\n\t\t\t\t\t\tif (weixin) {\n\t\t\t\t\t\t\tweixin.style.display = 'block';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// PC 端的微信分享\n\t\t\t\t\t\t\tvar temp, weixin, close, triangle;\n\n\t\t\t\t\t\t\ttemp = '<div class=\"w_center\">' +\n\t\t\t\t\t\t\t\t'<div id=\"w_qr\" class=\"w_qr\" width=\"90\" height=\"90\"></div>' +\n\t\t\t\t\t\t\t\t'<p class=\"w_cont\">打开微信，点击底部的“发现”，使用“扫一扫”即可将网页分享到朋友圈。</p>' +\n\t\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t\t'<div id=\"triangle\" class=\"w_bottom\"></div>' +\n\t\t\t\t\t\t\t\t'<div id=\"w_close\" class=\"w_close\"></div>';\n\t\t\t\t\t\t\tweixin = document.createElement('div');\n\t\t\t\t\t\t\tweixin.id = 'w_xin';\n\t\t\t\t\t\t\tweixin.className = 'weixin';\n\n\t\t\t\t\t\t\tweixin.innerHTML = temp;\n\n\t\t\t\t\t\t\tweixin_node.appendChild(weixin);\n\t\t\t\t\t\t\ttriangle = getByClass('w_bottom', weixin_node)[0];\n\n\t\t\t\t\t\t\t//微信box定位调整\n\t\t\t\t\t\t\tif (style == 1) {\n\t\t\t\t\t\t\t\tweixin.style.top = '-83px';\n\t\t\t\t\t\t\t\tweixin.style.left = '175px';\n\t\t\t\t\t\t\t\ttriangle.className = 'w_left';\n\t\t\t\t\t\t\t} else if (style == 2) {\n\t\t\t\t\t\t\t\tweixin.style.top = '-83px';\n\t\t\t\t\t\t\t\tweixin.style.left = '120px';\n\t\t\t\t\t\t\t\ttriangle.className = 'w_left';\n\t\t\t\t\t\t\t} else if (style == 3) {\n\t\t\t\t\t\t\t\tweixin.style.top = '-122px';\n\t\t\t\t\t\t\t\tweixin.style.left = '108px';\n\t\t\t\t\t\t\t} else if (style == 5) {\n\t\t\t\t\t\t\t\tweixin.style.top = '-83px';\n\t\t\t\t\t\t\t\tweixin.style.left = '-283px';\n\t\t\t\t\t\t\t\ttriangle.className = 'w_right';\n\t\t\t\t\t\t\t\tweixin.style.zIndex = 3;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t//重新绑定事件\n\t\t\t\t\t\t\tvar w_a = weixin.parentNode.getElementsByTagName('a');\n\t\t\t\t\t\t\tfor (var i = 0; i < w_a.length; i++) {\n\t\t\t\t\t\t\t\tw_a[i].onclick = addBtnEvent;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tclose = getByClass('w_close', weixin_node)[0];\n\t\t\t\t\t\t\tclose.onclick = function() {\n\t\t\t\t\t\t\t\tweixin.style.display = 'none';\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tgetByClass('w_qr', weixin_node)[0].innerHTML = '<img src=\"' + weixin_api + '\" width=\"90\" height=\"90\">';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if (this.name === 'idxy') {\n\n\t\t\t\t\t\t_txt = ((op.share_txt) ? op.share_txt : document.title) + ' ' + _url;\n\n\n\t\t\t\t\t\tshareFeed(_txt);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar share_txt = (op.share_txt) ? op.share_txt : document.title + ((op.addTo) ? op.addTo : '');\n\t\t\t\t\t\tvar api = '';\n\n\t\t\t\t\t\tif (this.name === 'douban') {\n\t\t\t\t\t\t\tapi = sApi[this.name] + 'name=' + encodeURIComponent(share_txt) + '&href=' + encodeURIComponent(_url) + '&text=%20';\n\t\t\t\t\t\t\t//console.log(api);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapi = sApi[this.name] + 'title=' + encodeURIComponent(share_txt) + '&url=' + encodeURIComponent(_url) + '&summary=%20';\n\t\t\t\t\t\t}\n\t\t\t\t\t\twindow.open(api, '_blank', 'toolbar=0,status=0,resizable=1,width=750,height=430,' + 'left=' + (screen.width - 750) / 2 + ',top=' + (screen.height - 430) / 2);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof _fnAddTo[this.name] == \"function\") {\n\t\t\t\t\t\t_fnAddTo[this.name]();\n\t\t\t\t\t}\n\t\t\t\t\t//console.log();\n\n\t\t\t\t}\n\n\t\t\t\tj_dxyshare_a_arr[i].onclick = addBtnEvent;\n\t\t\t}\n\n\t\t\t// shareto idxy\n\t\t\tfunction shareFeed(body) {\n\n\t\t\t\t//1.验证是否登录\n\t\t\t\tsynIMG('https://auth.dxy.cn/login?service=http://i.dxy.cn/', function () {\n\n\t\t\t\t\tvar url = 'http://i.dxy.cn' + '/snsapi/share/feed?dataType=jsonp&callback=cb';\n\t\t\t\t\tjQuery.ajax({\n\n\t\t\t\t\t\ttype: 'GET',\n\t\t\t\t\t\turl: url,\n\t\t\t\t\t\tasync: false,\n\t\t\t\t\t\tjsonpCallback: 'cb',\n\t\t\t\t\t\tcontentType: \"application/json\",\n\t\t\t\t\t\tdataType: 'jsonp',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t'body': body\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function (data) {\n\t\t\t\t\t\t\tif (data.status == 'ok') {\n\t\t\t\t\t\t\t\talert('分享成功');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (data.message == '100') {\n\t\t\t\t\t\t\t\t\talert('请先登录');\n\t\t\t\t\t\t\t\t\tif (op.other && op.other.loginIdxy) {\n\t\t\t\t\t\t\t\t\t\twindow.open('https://auth.dxy.cn/login?service=http://i.dxy.cn/');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\talert('系统异常');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t})\n\n\t\t\t}\n\n\t\t\t//add event\n\t\t\tfunction toggle() {\n\t\t\t\tvar share_btn = $('j_dxy_sharebtn_' + id),\n\t\t\t\t\tshare_box = $('j_dxy_sharebox_' + id),\n\t\t\t\t\ttid;\n\t\t\t\tif (share_btn && share_box) {\n\n\t\t\t\t\tshare_btn.onmouseenter = function () {\n\t\t\t\t\t\tclearTimeout(tid);\n\t\t\t\t\t\tshare_box.style.display = 'block';\n\t\t\t\t\t};\n\n\t\t\t\t\tshare_btn.onmouseout = function () {\n\t\t\t\t\t\ttid = setTimeout(function () {\n\t\t\t\t\t\t\tshare_box.style.display = 'none';\n\t\t\t\t\t\t}, 2000)\n\n\t\t\t\t\t};\n\n\t\t\t\t\tshare_box.onmouseover = function () {\n\t\t\t\t\t\tclearTimeout(tid);\n\t\t\t\t\t\t//share_box.style.display='block';\n\t\t\t\t\t}\n\n\t\t\t\t\tshare_box.onmouseout = function () {\n\t\t\t\t\t\ttid = setTimeout(function () {\n\t\t\t\t\t\t\tshare_box.style.display = 'none';\n\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction toggle2() {\n\t\t\t\tvar share_btn = $('j_dxy_sharebtn_' + id),\n\t\t\t\t\tshare_box = $('j_dxy_sharebox_' + id);\n\t\t\t\tif (share_btn && share_box) {\n\t\t\t\t\tshare_btn.onclick = function () {\n\t\t\t\t\t\tshare_box.style.display = share_box.style.display === 'block' ? 'none' : 'block';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\t//show\n\t\t\t/*setTimeout(function(){\n\t\t\t $(id).style.visibility=\"visible\";\n\t\t\t },1000)*/\n\n\t\t}\n\n\t\tthis.share = function (id) {\n\t\t\t//console.log(id);\n\t\t}\n\t}\n\n\tif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n\t\tmodule.exports = dxy_share;\n\t}\n\telse {\n\t\twindow.dxy_share = dxy_share;\n\t}\n})();"],"sourceRoot":"/source/"}