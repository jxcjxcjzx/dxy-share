{"version":3,"sources":["dxy-share.js"],"names":["require","jQuery","$","dxy_share","synIMG","url","fun","wrapDom","img","Image","src","style","display","onload","onerror","document","getElementsByTagName","appendChild","isMobile","test","window","navigator","userAgent","sName_obj","sina","tt","douban","renren","qzone","idxy","kaixin","weixin","favorite","sApi","charset","share_html","share_lst_html","this","show","op","shareFeed","body","ajax","type","async","jsonpCallback","contentType","dataType","data","success","status","alert","message","other","loginIdxy","open","toggle","tid","share_btn","id","share_box","length","show_share_box","clearTimeout","css","hide_share_box","timeout","setTimeout","click","event","addEventListener","target","parentNode","classList","contains","mouseenter","mouseout","mouseover","toggle2","arr","shareUrl","_fnAddTo","fnAddTo","container","i","html","parseInt","top","follow_share","createElement","className","innerHTML","j_dxyshare_a_arr","getElementById","_loop","addBtnEvent","e","_url","location","href","encodeURI","name","all","external","addFavorite","title","sidebar","addPanel","weixin_node","weixin_api","temp","close","triangle","left","zIndex","w_a","onclick","_txt","share_txt","addTo","api","encodeURIComponent","screen","width","height","share","module","exports"],"mappings":"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","file":"dxy-share.min.js","sourcesContent":["if (typeof require !== 'undefined') {\n    var jQuery = require('jquery');\n}\n\n(function ($) {\n    function dxy_share() {\n\n        var isMobile = /mobile|dxyapp/i.test(window.navigator.userAgent);\n\n        function synIMG(url, fun, wrapDom) {\n            var img = new Image();\n            img.src = url;\n            img.style.display = 'none';\n            img.onload = function () {\n                //console.log('onload:',this);\n            }\n            img.onerror = function () {\n                //console.log('onerror:',this);\n                fun(img);\n            }\n\n            if (!wrapDom) {\n                wrapDom = document.getElementsByTagName('body')[0];\n            }\n            wrapDom.appendChild(img);\n        }\n\n        var sName_obj = {\n            sina: '新浪微博',\n            tt: '腾讯微博',\n            douban: '豆瓣',\n            renren: '人人网',\n            qzone: 'QQ空间',\n            idxy: '丁香客',\n            kaixin: '开心网',\n            weixin: '微信',\n            favorite: '收藏夹'\n        };\n        var sApi = {\n            sina: 'http://v.t.sina.com.cn/share/share.php?appkey=1611508056&content=' + (document.charset || \"gbk\") + '&',\n            tt: 'http://v.t.qq.com/share/share.php?',\n            douban: 'http://www.douban.com/share/service/?',\n            // douban: 'http://www.douban.com/recommend/?',\n            renren: 'http://share.renren.com/share/buttonshare?',\n            qzone: 'http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?',\n            idxy: '',\n            kaixin: 'http://www.kaixin001.com/repaste/share.php?',\n            weixin: 'http://api.dxy.cn/qr-code/?'\n        };\n\n        var share_html = '',\n            share_lst_html = '';\n\n\n        this.show = function (op) {\n            var id = op['id'],\n                arr = op['lst'],\n                style = op['style'],\n                shareUrl = op['url'],\n                _fnAddTo = op.fnAddTo || {},\n                container = $('#' + id);\n            //$(id).style.visibility=\"hidden\";\n\n            //console.log(id,arr);\n\n            switch (style) {\n                case 1:\n                    if (arr.length > 0) {\n                        for (var i = 0; i < arr.length; i++) {\n                            share_lst_html += \"<div class='plg_share_el_nav1_it'><i class='plg_share_el_nav1_ico plg_ico_\" + arr[i] + \"'>&nbsp;</i><a href='javascript:void(0);' title='\" + sName_obj[arr[i]] + \"' name='\" + arr[i] + \"'>\" + sName_obj[arr[i]] + \"</a></div>\";\n                        }\n                    }\n\n                    share_html = '<div class=\"plg_share_wrap plg_share_style' + style + '\"><a href=\"javascript:void(0)\" class=\"share_btn\" id=\"j_dxy_sharebtn_' + id + '\">分享到</a><dl class=\"plg_share_el_box2 xbox1\" id=\"j_dxy_sharebox_' + id + '\"><dt class=\"plg_share_el_box2_hd\"><b class=\"pl10 mr10\">分享到</b></dt><dd class=\"plg_share_el_box2_ct\"><div class=\"plg_share_el_nav1\" id=\"j_dxyshare_lst_' + id + '\">' + share_lst_html + '</div></dd></dl></div>';\n                    //console.log(share_html);\n\n                    container.html(share_html);\n                    toggle();\n                    break;\n\n                case 2:\n                    if (arr.length > 0) {\n                        for (var i = 0; i < arr.length; i++) {\n                            share_lst_html += \"<div class='plg_share_el_nav1_it'><i class='plg_share_el_nav1_ico plg_ico_\" + arr[i] + \"'>&nbsp;</i><a href='javascript:void(0);' title='\" + sName_obj[arr[i]] + \"' name='\" + arr[i] + \"'>\" + sName_obj[arr[i]] + \"</a></div>\";\n                        }\n                    }\n\n                    share_html = '<div class=\"plg_share_wrap plg_share_style' + style + '\"><a href=\"javascript:void(0)\" class=\"share_btn\" id=\"j_dxy_sharebtn_' + id + '\">分享到</a><dl class=\"plg_share_el_box2 xbox1\" id=\"j_dxy_sharebox_' + id + '\"><dt class=\"plg_share_el_box2_hd\"><b class=\"pl10 mr10\">分享到</b></dt><dd class=\"plg_share_el_box2_ct\"><div class=\"plg_share_el_nav1\" id=\"j_dxyshare_lst_' + id + '\">' + share_lst_html + '</div></dd></dl></div>';\n                    //console.log(share_html);\n\n                    container.html(share_html);\n                    toggle();\n                    break;\n\n                case 3:\n                    if (arr.length > 0) {\n                        for (var i = 0; i < arr.length; i++) {\n                            share_lst_html += \"<a href='javascript:void(0);' name='\" + arr[i] + \"' class='plg_share_el_nav1_ico plg_ico_\" + arr[i] + \"' title='\" + sName_obj[arr[i]] + \"'>&nbsp;</a>\";\n                        }\n                    }\n\n                    share_html = '<div class=\"plg_share_wrap plg_share_style' + style + '\"><span class=\"share_btn\">分享到：</span><div class=\"plg_share_el_box2_ct\" id=\"j_dxyshare_lst_' + id + '\">' + share_lst_html + '</div></div>';\n                    //console.log(share_html);\n\n                    container.html(share_html);\n\n                    break;\n\n                case 4:\n                    if (arr.length > 0) {\n                        for (var i = 0; i < arr.length; i++) {\n                            share_lst_html += \"<div class='plg_share_el_nav1_it'><a href='javascript:void(0);' name='\" + arr[i] + \"' class='plg_share_el_nav1_ico plg_ico_\" + arr[i] + \"' title='\" + sName_obj[arr[i]] + \"'>\" + sName_obj[arr[i]] + \"</a></div>\";\n                        }\n                    }\n\n                    share_html = '<div class=\"plg_share_wrap plg_share_style' + style + '\"><dl class=\"plg_share_el_box2 xbox1\" id=\"j_dxy_sharebox_' + id + '\"><dd class=\"plg_share_el_box2_ct\"><div class=\"plg_share_el_nav1\" id=\"j_dxyshare_lst_' + id + '\"><div class=\"plg_share_el_nav1_it dxy_sharebox_title\">分享</div>' + share_lst_html + '</div></dd></dl></div>';\n                    //console.log(share_html);\n                    container.html(share_html);\n\n                    break;\n\n\n                case 5:\n                    if (arr.length > 0) {\n                        for (var i = 0; i < arr.length; i++) {\n                            share_lst_html += \"<div class='plg_share_el_nav1_it'><a href='javascript:void(0);' name='\" + arr[i] + \"' title='\" + sName_obj[arr[i]] + \"' class='plg_share_el_nav1_ico plg_ico_\" + arr[i] + \"'>\" + sName_obj[arr[i]] + \"</a></div>\";\n                        }\n                    }\n\n                    share_html = '<dl id=\"j_dxy_sharebox_' + id + '\" class=\"plg_share_el_box2 xbox1\" style=\"margin-top:' + parseInt(op.top) + 'px;\"><dd class=\"plg_share_el_box2_ct\"><div id=\"j_dxyshare_lst_' + id + '\" class=\"plg_share_el_nav1\">' + share_lst_html + '</div></dd></dl>';\n\n                    var follow_share = document.createElement('div');\n                    follow_share.className = 'plg_share_wrap plg_share_style' + style;\n                    follow_share.innerHTML = share_html;\n                    document.body.appendChild(follow_share);\n\n                    break;\n\n                case 6:\n                    if (arr.length > 0) {\n                        for (var i = 0; i < arr.length; i++) {\n                            share_lst_html += \"<div class='plg_share_el_nav1_it'><i class='plg_share_el_nav1_ico plg_ico_\" + arr[i] + \"'>&nbsp;</i><a href='javascript:void(0);' title='\" + sName_obj[arr[i]] + \"' name='\" + arr[i] + \"'>\" + sName_obj[arr[i]] + \"</a></div>\";\n                        }\n                    }\n\n                    share_html = '<div class=\"plg_share_wrap plg_share_style' + style + '\"><dl class=\"plg_share_el_box2 xbox1\"><dt class=\"plg_share_el_box2_hd\"><b class=\"pl10 mr10\">分享到</b></dt><dd class=\"plg_share_el_box2_ct\"><div class=\"plg_share_el_nav1\" id=\"j_dxyshare_lst_' + id + '\">' + share_lst_html + '</div></dd></dl></div>';\n                    //console.log(share_html);\n\n                    container.html(share_html);\n                    toggle();\n\n                    break;\n\n                case 'm1':\n                    if (arr.length > 0) {\n                        for (var i = 0; i < arr.length; i++) {\n                            share_lst_html += \"<div class='plg_share_el_nav1_it'><a href='javascript:void(0);' name='\" + arr[i] + \"' class='plg_share_el_nav1_ico plg_ico_\" + arr[i] + \"' title='\" + sName_obj[arr[i]] + \"'>\" + sName_obj[arr[i]] + \"</a></div>\";\n                        }\n                    }\n\n                    share_html = '<div class=\"plg_share_wrap plg_share_style_' + style + '\"><dl class=\"plg_share_el_box2 xbox1\"><dt><div class=\"plg_share_el_nav1_it dxy_sharebox_title\" id=\"j_dxy_sharebtn_' + id + '\">分享</div></dt><dd class=\"plg_share_el_box2_ct\" id=\"j_dxy_sharebox_' + id + '\"><div class=\"plg_share_el_nav1\" id=\"j_dxyshare_lst_' + id + '\">' + share_lst_html + '</div></dd></dl></div>';\n                    container.html(share_html);\n                    toggle2();\n                    break;\n\n            }\n\n\n            //tagName='a' event\n            var j_dxyshare_a_arr = document.getElementById('j_dxyshare_lst_' + id).getElementsByTagName('a');\n\n            for (var i = 0; i < j_dxyshare_a_arr.length; i++) {\n\n                function addBtnEvent(e) {\n                    var _url = shareUrl || window.location.href;\n                    _url = encodeURI(_url);\n\n                    if (this.name == 'favorite') {\n\n                        if (document.all) {\n                            window.external.addFavorite(_url, document.title);\n                        } else if (window.sidebar && window.sidebar.addPanel) {\n                            window.sidebar.addPanel(document.title, _url, '');\n                        } else {\n                            alert('对不起，暂时不支持您的浏览器');\n                        }\n\n                    } else if (this.name == 'weixin') {\n                        var weixin_node = this.parentNode,\n                            weixin_api = sApi[this.name] + 'url=' + _url + '&size=5&margin=1&format=png';\n\n                        var weixin = $('.weixin', weixin_node)[0];\n\n                        if (weixin) {\n                            weixin.style.display = 'block';\n                        } else {\n                            // PC 端的微信分享\n                            var temp, close, triangle;\n\n                            temp = '<div class=\"w_center\">' +\n                                '<div id=\"w_qr\" class=\"w_qr\" width=\"90\" height=\"90\"></div>' +\n                                '<p class=\"w_cont\">打开微信，点击底部的“发现”，使用“扫一扫”即可将网页分享到朋友圈。</p>' +\n                                '</div>' +\n                                '<div id=\"triangle\" class=\"w_bottom\"></div>' +\n                                '<div id=\"w_close\" class=\"w_close\"></div>';\n                            weixin = document.createElement('div');\n                            weixin.id = 'w_xin';\n                            weixin.className = 'weixin';\n\n                            weixin.innerHTML = temp;\n\n                            weixin_node.appendChild(weixin);\n                            triangle = $('.w_bottom', weixin_node)[0];\n\n                            //微信box定位调整\n                            if (style == 1) {\n                                weixin.style.top = '-83px';\n                                weixin.style.left = '175px';\n                                triangle.className = 'w_left';\n                            } else if (style == 2) {\n                                weixin.style.top = '-83px';\n                                weixin.style.left = '120px';\n                                triangle.className = 'w_left';\n                            } else if (style == 3) {\n                                weixin.style.top = '-122px';\n                                weixin.style.left = '108px';\n                            } else if (style == 5) {\n                                weixin.style.top = '-83px';\n                                weixin.style.left = '-283px';\n                                triangle.className = 'w_right';\n                                weixin.style.zIndex = 3;\n                            }\n\n                            //重新绑定事件\n                            var w_a = weixin.parentNode.getElementsByTagName('a');\n                            for (var i = 0; i < w_a.length; i++) {\n                                w_a[i].onclick = addBtnEvent;\n                            }\n\n                            close = $('.w_close', weixin_node)[0];\n                            close.onclick = function() {\n                                weixin.style.display = 'none';\n                            };\n\n                            $('.w_qr', weixin_node)[0].innerHTML = '<img src=\"' + weixin_api + '\" width=\"90\" height=\"90\">';\n                        }\n\n                    } else if (this.name === 'idxy') {\n\n                        var _txt = ((op.share_txt) ? op.share_txt : document.title) + ' ' + _url;\n\n\n                        shareFeed(_txt);\n\n                    } else {\n                        var share_txt = (op.share_txt) ? op.share_txt : document.title + ((op.addTo) ? op.addTo : '');\n                        var api = '';\n\n                        if (this.name === 'douban') {\n                            api = sApi[this.name] + 'name=' + encodeURIComponent(share_txt) + '&href=' + encodeURIComponent(_url) + '&text=%20';\n                            //console.log(api);\n                        } else {\n                            api = sApi[this.name] + 'title=' + encodeURIComponent(share_txt) + '&url=' + encodeURIComponent(_url) + '&summary=%20';\n                        }\n                        window.open(api, '_blank', 'toolbar=0,status=0,resizable=1,width=750,height=430,' + 'left=' + (screen.width - 750) / 2 + ',top=' + (screen.height - 430) / 2);\n                    }\n\n                    if (typeof _fnAddTo[this.name] == \"function\") {\n                        _fnAddTo[this.name]();\n                    }\n                    //console.log();\n\n                }\n\n                j_dxyshare_a_arr[i].onclick = addBtnEvent;\n            }\n\n            // shareto idxy\n            function shareFeed(body) {\n\n                //1.验证是否登录\n                synIMG('https://auth.dxy.cn/login?service=http://i.dxy.cn/', function () {\n\n                    var url = 'http://i.dxy.cn' + '/snsapi/share/feed?dataType=jsonp&callback=cb';\n                    $.ajax({\n\n                        type: 'GET',\n                        url: url,\n                        async: false,\n                        jsonpCallback: 'cb',\n                        contentType: \"application/json\",\n                        dataType: 'jsonp',\n                        data: {\n                            'body': body\n                        },\n                        success: function (data) {\n                            if (data.status == 'ok') {\n                                alert('分享成功');\n                            } else {\n                                if (data.message == '100') {\n                                    alert('请先登录');\n                                    if (op.other && op.other.loginIdxy) {\n                                        window.open('https://auth.dxy.cn/login?service=http://i.dxy.cn/');\n                                    }\n                                } else {\n                                    alert('系统异常');\n                                }\n                            }\n                        }\n                    });\n\n                })\n\n            }\n\n            //add event\n            function toggle() {\n                var share_btn = $('#j_dxy_sharebtn_' + id),\n                    share_box = $('#j_dxy_sharebox_' + id),\n                    tid;\n                if (share_btn.length && share_box.length) {\n\n                    var show_share_box = function () {\n                        if (tid) {\n                            clearTimeout(tid);\n                        }\n                        share_box.css('display', 'block');\n                    };\n\n                    var hide_share_box = function (timeout) {\n                        if (timeout) {\n                            tid = setTimeout(function () {\n                                share_box.css('display', 'none');\n                            }, 1000);\n                        }\n                        else {\n                            share_box.css('display', 'none');\n                        }\n                    };\n\n                    if (isMobile) {\n                        share_btn.click(function (event) {\n                            show_share_box();\n\n                            document.body.addEventListener('click', function (event) {\n                                if (!event.target.parentNode.classList.contains('plg_share_el_nav1_it')) {\n                                    hide_share_box(false);\n                                }\n                            }, true);\n                        });\n                    }\n                    else {\n                        share_btn.mouseenter(function () {\n                            show_share_box();\n                        });\n\n                        share_btn.mouseout(function () {\n                            hide_share_box(true);\n                        });\n\n                        share_box.mouseover(function () {\n                            show_share_box();\n                        });\n\n                        share_box.mouseout(function () {\n                            hide_share_box(true);\n                        });\n                    }\n                }\n            }\n\n            function toggle2() {\n                var share_btn = $('#j_dxy_sharebtn_' + id),\n                    share_box = $('#j_dxy_sharebox_' + id);\n                if (share_btn.length && share_box.length) {\n                    share_btn.click(function () {\n                        share_box.css('display', share_box.css('display') === 'block' ? 'none' : 'block');\n                    });\n                }\n            }\n\n\n            //show\n            /*setTimeout(function(){\n             $(id).style.visibility=\"visible\";\n             },1000)*/\n\n        }\n\n        this.share = function (id) {\n            //console.log(id);\n        }\n    }\n\n    if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n        module.exports = dxy_share;\n    }\n    else {\n        window.dxy_share = dxy_share;\n    }\n})(jQuery);"],"sourceRoot":"/source/"}