"use strict";if("undefined"!=typeof require)var jQuery=require("jquery");!function(e){function a(){function a(e,a,s){var l=new Image;l.src=e,l.style.display="none",l.onload=function(){},l.onerror=function(){a(l)},s||(s=document.getElementsByTagName("body")[0]),s.appendChild(l)}var s=/mobile|dxyapp/i.test(window.navigator.userAgent),l={sina:"新浪微博",tt:"腾讯微博",douban:"豆瓣",renren:"人人网",qzone:"QQ空间",idxy:"丁香客",kaixin:"开心网",weixin:"微信",favorite:"收藏夹"},t={sina:"http://v.t.sina.com.cn/share/share.php?appkey=1611508056&content="+(document.charset||"gbk")+"&",tt:"http://v.t.qq.com/share/share.php?",douban:"http://www.douban.com/share/service/?",renren:"http://share.renren.com/share/buttonshare?",qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?",idxy:"",kaixin:"http://www.kaixin001.com/repaste/share.php?",weixin:"http://api.dxy.cn/qr-code/?"},i="",n="";this.show=function(_){function d(s){a("https://auth.dxy.cn/login?service=http://i.dxy.cn/",function(){var a="http://i.dxy.cn/snsapi/share/feed?dataType=jsonp&callback=cb";e.ajax({type:"GET",url:a,async:!1,jsonpCallback:"cb",contentType:"application/json",dataType:"jsonp",data:{body:s},success:function(e){"ok"==e.status?alert("分享成功"):"100"==e.message?(alert("请先登录"),_.other&&_.other.loginIdxy&&window.open("https://auth.dxy.cn/login?service=http://i.dxy.cn/")):alert("系统异常")}})})}function r(){var a,l=e("#j_dxy_sharebtn_"+c),t=e("#j_dxy_sharebox_"+c);if(l.length&&t.length){var i=function(){a&&clearTimeout(a),t.css("display","block")},n=function(e){e?a=setTimeout(function(){t.css("display","none")},1e3):t.css("display","none")};s?l.click(function(e){i(),document.body.addEventListener("click",function(e){e.target.parentNode.classList.contains("plg_share_el_nav1_it")||n(!1)},!0)}):(l.mouseenter(function(){i()}),l.mouseout(function(){n(!0)}),t.mouseover(function(){i()}),t.mouseout(function(){n(!0)}))}}function o(){var a=e("#j_dxy_sharebtn_"+c),s=e("#j_dxy_sharebox_"+c);a.length&&s.length&&a.click(function(){s.css("display","block"===s.css("display")?"none":"block")})}var c=_.id,h=_.lst,p=_.style,v=_.url,g=_.fnAddTo||{},x=e("#"+c);switch(p){case 1:if(h.length>0)for(var y=0;y<h.length;y++)n+="<div class='plg_share_el_nav1_it'><i class='plg_share_el_nav1_ico plg_ico_"+h[y]+"'>&nbsp;</i><a href='javascript:void(0);' title='"+l[h[y]]+"' name='"+h[y]+"'>"+l[h[y]]+"</a></div>";i='<div class="plg_share_wrap plg_share_style'+p+'"><a href="javascript:void(0)" class="share_btn" id="j_dxy_sharebtn_'+c+'">分享到</a><dl class="plg_share_el_box2 xbox1" id="j_dxy_sharebox_'+c+'"><dt class="plg_share_el_box2_hd"><b class="pl10 mr10">分享到</b></dt><dd class="plg_share_el_box2_ct"><div class="plg_share_el_nav1" id="j_dxyshare_lst_'+c+'">'+n+"</div></dd></dl></div>",x.html(i),r();break;case 2:if(h.length>0)for(var y=0;y<h.length;y++)n+="<div class='plg_share_el_nav1_it'><i class='plg_share_el_nav1_ico plg_ico_"+h[y]+"'>&nbsp;</i><a href='javascript:void(0);' title='"+l[h[y]]+"' name='"+h[y]+"'>"+l[h[y]]+"</a></div>";i='<div class="plg_share_wrap plg_share_style'+p+'"><a href="javascript:void(0)" class="share_btn" id="j_dxy_sharebtn_'+c+'">分享到</a><dl class="plg_share_el_box2 xbox1" id="j_dxy_sharebox_'+c+'"><dt class="plg_share_el_box2_hd"><b class="pl10 mr10">分享到</b></dt><dd class="plg_share_el_box2_ct"><div class="plg_share_el_nav1" id="j_dxyshare_lst_'+c+'">'+n+"</div></dd></dl></div>",x.html(i),r();break;case 3:if(h.length>0)for(var y=0;y<h.length;y++)n+="<div class='plg_share_el_nav1_ico_wrap'><a href='javascript:void(0);' name='"+h[y]+"' class='plg_share_el_nav1_ico plg_ico_"+h[y]+"' title='"+l[h[y]]+"'>&nbsp;</a></div>";i='<div class="plg_share_wrap plg_share_style'+p+'"><span class="share_btn">分享到：</span><div class="plg_share_el_box2_ct" id="j_dxyshare_lst_'+c+'">'+n+"</div></div>",x.html(i);break;case 4:if(h.length>0)for(var y=0;y<h.length;y++)n+="<div class='plg_share_el_nav1_it'><a href='javascript:void(0);' name='"+h[y]+"' class='plg_share_el_nav1_ico plg_ico_"+h[y]+"' title='"+l[h[y]]+"'>"+l[h[y]]+"</a></div>";i='<div class="plg_share_wrap plg_share_style'+p+'"><dl class="plg_share_el_box2 xbox1" id="j_dxy_sharebox_'+c+'"><dd class="plg_share_el_box2_ct"><div class="plg_share_el_nav1" id="j_dxyshare_lst_'+c+'"><div class="plg_share_el_nav1_it dxy_sharebox_title">分享</div>'+n+"</div></dd></dl></div>",x.html(i);break;case 5:if(h.length>0)for(var y=0;y<h.length;y++)n+="<div class='plg_share_el_nav1_it'><a href='javascript:void(0);' name='"+h[y]+"' title='"+l[h[y]]+"' class='plg_share_el_nav1_ico plg_ico_"+h[y]+"'>"+l[h[y]]+"</a></div>";i='<dl id="j_dxy_sharebox_'+c+'" class="plg_share_el_box2 xbox1" style="margin-top:'+parseInt(_.top)+'px;"><dd class="plg_share_el_box2_ct"><div id="j_dxyshare_lst_'+c+'" class="plg_share_el_nav1">'+n+"</div></dd></dl>";var b=document.createElement("div");b.className="plg_share_wrap plg_share_style"+p,b.innerHTML=i,document.body.appendChild(b);break;case 6:if(h.length>0)for(var y=0;y<h.length;y++)n+="<div class='plg_share_el_nav1_it'><i class='plg_share_el_nav1_ico plg_ico_"+h[y]+"'>&nbsp;</i><a href='javascript:void(0);' title='"+l[h[y]]+"' name='"+h[y]+"'>"+l[h[y]]+"</a></div>";i='<div class="plg_share_wrap plg_share_style'+p+'"><dl class="plg_share_el_box2 xbox1"><dt class="plg_share_el_box2_hd"><b class="pl10 mr10">分享到</b></dt><dd class="plg_share_el_box2_ct"><div class="plg_share_el_nav1" id="j_dxyshare_lst_'+c+'">'+n+"</div></dd></dl></div>",x.html(i),r();break;case"m1":if(h.length>0)for(var y=0;y<h.length;y++)n+="<div class='plg_share_el_nav1_it'><a href='javascript:void(0);' name='"+h[y]+"' class='plg_share_el_nav1_ico plg_ico_"+h[y]+"' title='"+l[h[y]]+"'>"+l[h[y]]+"</a></div>";i='<div class="plg_share_wrap plg_share_style_'+p+'"><dl class="plg_share_el_box2 xbox1"><dt><div class="plg_share_el_nav1_it dxy_sharebox_title" id="j_dxy_sharebtn_'+c+'">分享</div></dt><dd class="plg_share_el_box2_ct" id="j_dxy_sharebox_'+c+'"><div class="plg_share_el_nav1" id="j_dxyshare_lst_'+c+'">'+n+"</div></dd></dl></div>",x.html(i),o()}for(var m=document.getElementById("j_dxyshare_lst_"+c).getElementsByTagName("a"),f=function(){function a(s){var l=v||window.location.href;if(l=encodeURI(l),"favorite"==this.name)document.all?window.external.addFavorite(l,document.title):window.sidebar&&window.sidebar.addPanel?window.sidebar.addPanel(document.title,l,""):alert("对不起，暂时不支持您的浏览器");else if("weixin"==this.name){var i=this.parentNode,n=t[this.name]+"url="+l+"&size=5&margin=1&format=png";console.log(i);var r=e(".weixin",i)[0];if(r)r.style.display="block";else{var o,c,h;o='<div class="w_center"><div id="w_qr" class="w_qr" width="90" height="90"></div><p class="w_cont">使用微信“扫一扫”分享到朋友圈。</p></div><div id="triangle" class="w_bottom"></div><div id="w_close" class="w_close"></div>',r=document.createElement("div"),r.id="w_xin",r.className="weixin",r.innerHTML=o,i.appendChild(r),h=e(".w_bottom",i)[0],console.log(s),1==p?(r.style.top="-83px",r.style.left="175px",h.className="w_left"):2==p?(r.style.top="-83px",r.style.left="120px",h.className="w_left"):3==p?r.style.left="-12px":5==p&&(r.style.top="-83px",r.style.left="-283px",h.className="w_right",r.style.zIndex=3);for(var x=r.parentNode.getElementsByTagName("a"),y=0;y<x.length;y++)x[y].onclick=a;c=e(".w_close",i)[0],c.onclick=function(){r.style.display="none"},e(".w_qr",i)[0].innerHTML='<img src="'+n+'" width="90" height="90">'}}else if("idxy"===this.name){var b=(_.share_txt?_.share_txt:document.title)+" "+l;d(b)}else{var m=_.share_txt?_.share_txt:document.title+(_.addTo?_.addTo:""),f="";f="douban"===this.name?t[this.name]+"name="+encodeURIComponent(m)+"&href="+encodeURIComponent(l)+"&text=%20":t[this.name]+"title="+encodeURIComponent(m)+"&url="+encodeURIComponent(l)+"&summary=%20",window.open(f,"_blank","toolbar=0,status=0,resizable=1,width=750,height=430,left="+(screen.width-750)/2+",top="+(screen.height-430)/2)}"function"==typeof g[this.name]&&g[this.name]()}m[y].onclick=a},y=0;y<m.length;y++)f()},this.share=function(e){}}"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a:window.dxy_share=a}(jQuery);
//# sourceMappingURL=dxy-share.min.js.map
